{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Binez\\\\Desktop\\\\CSDS395\\\\client\\\\src\\\\context\\\\MealPlanContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MealPlanContext = /*#__PURE__*/createContext();\nexport const MealPlanProvider = ({\n  user = null,\n  children\n}) => {\n  _s();\n  const storageKey = user && user.email ? `meal_swipes_${user.email}` : \"meal_swipes_guest\";\n  const [weeklyLimit, setWeeklyLimit] = useState(19);\n  const [swipesUsed, setSwipesUsed] = useState(0);\n  const [swipeHistory, setSwipeHistory] = useState([]);\n  useEffect(() => {\n    const data = localStorage.getItem(storageKey);\n    if (data) {\n      const parsed = JSON.parse(data);\n      setWeeklyLimit(parsed.weeklyLimit || 19);\n      setSwipesUsed(parsed.swipesUsed || 0);\n      setSwipeHistory(parsed.swipeHistory || []);\n    }\n  }, [storageKey]);\n  const save = updated => {\n    localStorage.setItem(storageKey, JSON.stringify(updated));\n  };\n  const addSwipe = (location, notes) => {\n    const now = new Date();\n    const newEntry = {\n      date: now.toLocaleDateString(\"en-GB\"),\n      time: now.toLocaleTimeString(\"en-GB\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      }),\n      location,\n      notes: notes || \"-\"\n    };\n    const updatedHistory = [newEntry, ...swipeHistory];\n    const updated = {\n      weeklyLimit,\n      swipesUsed: swipesUsed + 1,\n      swipeHistory: updatedHistory\n    };\n    setSwipeHistory(updatedHistory);\n    setSwipesUsed(swipesUsed + 1);\n    save(updated);\n  };\n  const editSwipe = (index, location, notes) => {\n    const updatedHistory = [...swipeHistory];\n    updatedHistory[index] = {\n      ...updatedHistory[index],\n      location,\n      notes: notes || \"-\"\n    };\n    const updated = {\n      weeklyLimit,\n      swipesUsed,\n      swipeHistory: updatedHistory\n    };\n    setSwipeHistory(updatedHistory);\n    save(updated);\n  };\n  const deleteSwipe = index => {\n    const updatedHistory = swipeHistory.filter((_, i) => i !== index);\n    const updated = {\n      weeklyLimit,\n      swipesUsed: swipesUsed - 1,\n      swipeHistory: updatedHistory\n    };\n    setSwipeHistory(updatedHistory);\n    setSwipesUsed(swipesUsed - 1);\n    save(updated);\n  };\n  return /*#__PURE__*/_jsxDEV(MealPlanContext.Provider, {\n    value: {\n      weeklyLimit,\n      swipesUsed,\n      swipeHistory,\n      addSwipe,\n      editSwipe,\n      deleteSwipe\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(MealPlanProvider, \"CqfQfAnBLyhIH+qBemBamx7XqNw=\");\n_c = MealPlanProvider;\nvar _c;\n$RefreshReg$(_c, \"MealPlanProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","MealPlanContext","MealPlanProvider","user","children","_s","storageKey","email","weeklyLimit","setWeeklyLimit","swipesUsed","setSwipesUsed","swipeHistory","setSwipeHistory","data","localStorage","getItem","parsed","JSON","parse","save","updated","setItem","stringify","addSwipe","location","notes","now","Date","newEntry","date","toLocaleDateString","time","toLocaleTimeString","hour","minute","updatedHistory","editSwipe","index","deleteSwipe","filter","_","i","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Binez/Desktop/CSDS395/client/src/context/MealPlanContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const MealPlanContext = createContext();\r\n\r\nexport const MealPlanProvider = ({ user = null, children }) => {\r\n  const storageKey = user && user.email ? `meal_swipes_${user.email}` : \"meal_swipes_guest\";\r\n\r\n  const [weeklyLimit, setWeeklyLimit] = useState(19);\r\n  const [swipesUsed, setSwipesUsed] = useState(0);\r\n  const [swipeHistory, setSwipeHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const data = localStorage.getItem(storageKey);\r\n    if (data) {\r\n      const parsed = JSON.parse(data);\r\n      setWeeklyLimit(parsed.weeklyLimit || 19);\r\n      setSwipesUsed(parsed.swipesUsed || 0);\r\n      setSwipeHistory(parsed.swipeHistory || []);\r\n    }\r\n  }, [storageKey]);\r\n\r\n  const save = (updated) => {\r\n    localStorage.setItem(storageKey, JSON.stringify(updated));\r\n  };\r\n\r\n  const addSwipe = (location, notes) => {\r\n    const now = new Date();\r\n    const newEntry = {\r\n      date: now.toLocaleDateString(\"en-GB\"),\r\n      time: now.toLocaleTimeString(\"en-GB\", { hour: \"2-digit\", minute: \"2-digit\" }),\r\n      location,\r\n      notes: notes || \"-\"\r\n    };\r\n\r\n    const updatedHistory = [newEntry, ...swipeHistory];\r\n    const updated = {\r\n      weeklyLimit,\r\n      swipesUsed: swipesUsed + 1,\r\n      swipeHistory: updatedHistory\r\n    };\r\n\r\n    setSwipeHistory(updatedHistory);\r\n    setSwipesUsed(swipesUsed + 1);\r\n    save(updated);\r\n  };\r\n\r\n  const editSwipe = (index, location, notes) => {\r\n    const updatedHistory = [...swipeHistory];\r\n    updatedHistory[index] = {\r\n      ...updatedHistory[index],\r\n      location,\r\n      notes: notes || \"-\"\r\n    };\r\n\r\n    const updated = {\r\n      weeklyLimit,\r\n      swipesUsed,\r\n      swipeHistory: updatedHistory\r\n    };\r\n\r\n    setSwipeHistory(updatedHistory);\r\n    save(updated);\r\n  };\r\n\r\n  const deleteSwipe = (index) => {\r\n    const updatedHistory = swipeHistory.filter((_, i) => i !== index);\r\n    const updated = {\r\n      weeklyLimit,\r\n      swipesUsed: swipesUsed - 1,\r\n      swipeHistory: updatedHistory\r\n    };\r\n\r\n    setSwipeHistory(updatedHistory);\r\n    setSwipesUsed(swipesUsed - 1);\r\n    save(updated);\r\n  };\r\n\r\n  return (\r\n    <MealPlanContext.Provider\r\n      value={{\r\n        weeklyLimit,\r\n        swipesUsed,\r\n        swipeHistory,\r\n        addSwipe,\r\n        editSwipe,\r\n        deleteSwipe\r\n      }}\r\n    >\r\n      {children}\r\n    </MealPlanContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}